<md-card>
  <md-button class="md-primary md-raised" ng-click="vm.createTrip($event)" flex flex-md="100">
    Create your trip
  </md-button>
</md-card>
<md-card class="trip-type">
  Trips Created
</md-card>
<md-card ng-repeat="trip in vm.tripsCreated">
  <div class="card-header">
    <div class="pickgradient">
      <img ng-src="{{trip.tripImage}}" class="md-card-image" alt="Burj Khalifa" style="max-height: 300px">
    </div>
    <h1 class="md-image-title">{{trip.title}}</h1>
    <label class="md-image-label">HOSTED BY {{trip.hostedBy}}</label>
  </div>
  <md-card-content>
    <div class="trip-info">
      <i class="material-icons">access_time</i>
      <span>Sun 17, Sep 2015</span>
    </div>
    <div class="trip-info">
      <i class="material-icons">people</i>
      <span>{{trip.totalJoined}}/{{trip.totalMember}} people joined</span>
    </div>
    <md-divider class="trip-info-divider"></md-divider>
    <p>
      {{trip.description}}
    </p>
    <md-divider class="trip-info-divider"></md-divider>
    <div class="trips" >
      <div class="trip-detail" ng-repeat="des in trip.destinations">
        <div class="date-time">{{des.startDate}}</div>
        <div class="trip">
          <div class="trip-img" style="{{des.photo}}" ></div>
        </div>
        <div class="destination-info"  style="width: 90%;">
          <div class="trip-name" >{{des.locationName}}</div>

          <div class="more-info" >
            <p><b>Address:</b> {{des.address}}</p>
            <p><b>Description:</b> {{des.description}}</p>
            <div>
              <p><b>Offers available:</b></p>
              <div class="offer" >
                <div class="offer-type offer-type-food"></div>
                <div class="offer-name">
                  <span>
                    <b>15% Discount for Brunch</b>(Till 31 August 2015)
                  </span>
                </div>
              </div>
              <div class="offer">
                <div class="offer-type offer-type-shopping" ></div>
                <div class="offer-name" >
                  <span>
                    <b>20% Discount on Night Stay</b>(Till 31 September 2015)
                  </span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <md-divider class="trip-info-divider"></md-divider>
  </md-card-content>
  <div class="md-actions" layout="row" layout-align="end left">

  </div>
  <v-accordion class="vAccordion--default" multiple>

    <!-- add expanded attribute to open the section -->
    <!-- <v-pane expanded> -->
    <v-pane>
      <v-pane-header>
        <md-button class="md-raised md-primary"> {{trip.comments.length}} COMMENTS</md-button>
      </v-pane-header>

      <v-pane-content>
        <md-list-item class="md-2-line comment-record" ng-repeat="comment in trip.comments">
          <img ng-src="{{comment.avatarURL}}" class="md-avatar"/>
          <div class="md-list-item-text">
            <h3><a href="#">{{comment.fullname}}</a></h3>
            <p>{{comment.comment}}</p>
          </div>
        </md-list-item>
        <md-input-container flex>
          <label>Write your comment</label>
          <textarea ng-model="trip.activeComment" columns="1" md-maxlength="150"></textarea>
        </md-input-container>
        <md-button class="md-fab md-primary pull-right" ng-click="vm.onCommentButton(trip)" ng-disabled="!trip.activeComment || trip.activeComment.length == 0">
          <md-icon md-font-library="material-icons">done</md-icon>
          <md-tooltip>
            Post comment
          </md-tooltip>
        </md-button>
      </v-pane-content>
    </v-pane>
  </v-accordion>

</md-card>


<md-card class="trip-type">
  Trips Joined
</md-card>

<md-card ng-repeat="trip in vm.tripsJoined">
  <div class="card-header">
    <div class="pickgradient">
      <img ng-src="{{trip.tripImage}}" class="md-card-image" alt="Burj Khalifa" style="max-height: 300px">
    </div>
    <h1 class="md-image-title">{{trip.title}}</h1>
    <label class="md-image-label">HOSTED BY {{trip.hostedBy}}</label>
  </div>
  <md-card-content>
    <div class="trip-info">
      <i class="material-icons">access_time</i>
      <span>Sun 17, Sep 2015</span>
    </div>
    <div class="trip-info">
      <i class="material-icons">people</i>
      <span>{{trip.totalJoined}}/{{trip.totalMember}} people joined</span>
    </div>
    <md-divider class="trip-info-divider"></md-divider>
    <p>
      {{trip.description}}
    </p>
    <md-divider class="trip-info-divider"></md-divider>
    <div class="trips" >
      <div class="trip-detail" ng-repeat="des in trip.destinations">
        <div class="date-time">{{des.startDate}}</div>
        <div class="trip">
          <div class="trip-img" style="{{des.photo}}" ></div>
        </div>
        <div class="destination-info"  style="width: 90%;">
          <div class="trip-name" >{{des.locationName}}</div>

          <div class="more-info" >
            <p><b>Address:</b> {{des.address}}</p>
            <p><b>Description:</b> {{des.description}}</p>
          </div>
        </div>
      </div>
    </div>

    <md-divider class="trip-info-divider"></md-divider>
  </md-card-content>
  <div class="md-actions" layout="row" layout-align="end left">

  </div>
  <v-accordion class="vAccordion--default" multiple>

    <!-- add expanded attribute to open the section -->
    <!-- <v-pane expanded> -->
    <v-pane>
      <v-pane-header>
        <md-button class="md-raised md-primary">{{trip.comments.length}} COMMENTS</md-button>
      </v-pane-header>

      <v-pane-content>
        <md-list-item class="md-2-line comment-record" ng-repeat="comment in trip.comments">
          <img ng-src="{{comment.avatarURL}}" class="md-avatar"/>
          <div class="md-list-item-text">
            <h3><a href="#">{{comment.fullname}}</a></h3>
            <p>{{comment.comment}}</p>
          </div>
        </md-list-item>
        <md-input-container flex>
          <label>Write your comment</label>
          <textarea ng-model="trip.activeComment" columns="1" md-maxlength="150"></textarea>
        </md-input-container>
        <md-button class="md-fab md-primary pull-right" ng-click="vm.onCommentButton(trip)" ng-disabled="!trip.activeComment || trip.activeComment.length == 0">
          <md-icon md-font-library="material-icons">done</md-icon>
          <md-tooltip>
            Post comment
          </md-tooltip>
        </md-button>
      </v-pane-content>
    </v-pane>
  </v-accordion>

</md-card>
